<!DOCTYPE html>
<html lang="ES-es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Frcha en diferentes formatos</title>
</head>

<body>
    <h3>Elije el formato qn que quieras ver la fecha actual</h3>

        <select id="fecha" onchange="mensaje()" required>
            <option value="1">dd/mm/aaaa</option>
            <option value="2">Completa en español</option>
            <option value="3">Completa en inglés</option>
        </select>

    <button onclick="mostrarFecha()">Mostrar</button><br><br>
    <button onclick="cerrarVentana()">Cerrar</button>

    <p id="mensaje"></p>

    <script>
        function mostrarFecha() {

            let eleccion = document.getElementById("fecha").value;
            let date = new Date();

            switch (eleccion) {
                case "dd/mm/aaaa":
                    mensaje = "La fecha actual es: " + date.getDate()+"/"+date.getMonth()+"/"+date.getFullYear;
                    break;
                case "Completa en español":
                mensaje = "La fecha actual es: " + date.getDate()+"/"+date.getMonth()+"/"+date.getFullYear;
                    break;
                case "Completa en inglés":
                mensaje = "La fecha actual es: " + date.getDate()+"/"+date.getMonth()+"/"+date.getFullYear;
                    break;
                default:
                    mensaje = "Seleccione una opción válida.";
            }
            const dia = parseInt(document.getElementById("day").value);
            const mes = parseInt(document.getElementById("month").value);

            //Obtenemos la fecha de cumpleaños
            let fecha = new Date();
            let cumple = new Date(fecha.getFullYear(), mes - 1, dia); //ya que los meses en js van de 0 a 11
            let resultado = [];

            for (let anio = fecha.getFullYear(); anio <= 2100; anio++) {
                cumple.getFullYear(anio);

                if(cumple.getDay() === 6 || cumple.getDay() === 0) {  // El día 6 es el sábado y el 0 es el Domingo
                    resultado.push(anio);
                }
            }

            mostrarResultado(resultado);
        }
        function mostrarResultado(result) {

            const resultadosHTML = result.length > 0
                ? `Años en los que tu cumpleaños cae en fin de semana: ${result.join(', ')}`
                : 'Tu cumpleaños no cae en fin de semana hasta el año 2100.';

            document.getElementById("resultado").innerText = resultadosHTML;
        }

        function cerrarVentana() {
            // Cierra la ventana remota
            window.close();
        }
    </script>

</body>

</html>